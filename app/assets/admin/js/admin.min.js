/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

function rtmedia_addon_do_not_show(){var e={action:"rtmedia_addon_popup_not_show_again"};jQuery.post(rtmedia_admin_ajax,e,function(e){jQuery("#TB_window").remove(),jQuery("#TB_overlay").remove()})}"function"!=typeof Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),function(e,t,r,a){var i={init:function(t,r){var a=this;a.elem=r,a.$elem=e(r),a.options=e.extend({},e.fn.rtTab.options,t),a.rtTabs()},rtTabs:function(){var r=this,a=r.options.activeTab;if(r.$elem.find("li:nth-child("+a+")").addClass("active"),r.rtTabContent(activeTabContent="yes"),r.rtClick(),!0===("false"!==r.$elem.attr("data-hash"))){var i=t.location.hash;i&&r.$elem.find("li").find('a[href="'+i+'"]').trigger("click"),e(t).on("hashchange",function(){var e=t.location.hash;r.$elem.find("li").find('a[href="'+e+'"]').trigger("click")})}},rtClick:function(){var r=this,a=r.$elem.find("li");a.find("a").on("click",function(i){i.preventDefault(),a.removeClass("active"),r.rtTabContent(),e(this).parent().addClass("active");var n=e(this).attr("href");if(e(n).removeClass("hide"),!0===("false"!==r.$elem.attr("data-hash"))){var s=e(t).scrollTop();location.hash=e(this).attr("href"),e(t).scrollTop(s)}"function"==typeof r.options.onComplete&&r.options.onComplete.apply(r.elem,arguments)})},rtTabContent:function(t){this.$elem.find("li").find("a").each(function(){var r=e(this),a=r.attr("href");"yes"===t?r.parent().hasClass("active")||e(a).addClass("hide"):e(a).addClass("hide")})}};e.fn.rtTab=function(t){return this.each(function(){var r=Object.create(i);r.init(t,this),e.data(this,"rtTab",r)})},e.fn.rtTab.options={activeTab:1,onComplete:null}}(jQuery,window,document),jQuery(document).ready(function(e){var t=document.createElement("div");t.setAttribute("class","rtm-warning rtm-fly-warning hide"),e(".rtm-tabs").rtTab(),e('input[name^="rtmedia-options"]').on("change",function(){e(".rtm-save-settings-msg").remove(),0===e(".rtm-fly-warning").length&&(t.innerText=rtmedia_admin_strings.settings_changed,e(".rtm-button-container.top").prepend(t),e(".rtm-fly-warning").slideDown())}),e(".rtm-img-size-setting .form-table tr:nth-child(7) td:last-child").attr("colspan","3"),e(".rtm-field-wrap .switch input[type=checkbox]").each(function(){var t=e(this);t.parents("table").attr("data-depends")||(t.is(":checked")?(t.parents("table").next(".rtm-notice").slideDown(),t.parents("table").siblings("table").each(function(){e(this).attr("data-depends")&&e(this).slideDown()})):(t.parents("table").next(".rtm-notice").slideUp(),t.parents("table").siblings("table").each(function(){e(this).attr("data-depends")&&e(this).slideUp()}))),t.parents("tr").next("tr").attr("data-depends")&&(t.is(":checked")?t.parents("tr").next("tr").slideDown():t.parents("tr").next("tr").slideUp())}),e(".rtm-field-wrap .switch input[type=checkbox]").on("change",function(){var t=e(this);t.parents("table").attr("data-depends")||(t.parents("table").next(".rtm-notice").slideToggle(),t.parents("table").siblings("table").each(function(){e(this).attr("data-depends")&&e(this).slideToggle()})),t.parents("tr").next("tr").attr("data-depends")&&t.parents("tr").next("tr").slideToggle()});new(Backbone.View.extend({el:e(".bp-media-admin"),events:{"click .rtm-theme":"render","click .rtm-close":"close","click .rtm-previous":"previousTheme","click .rtm-next":"nextTheme",keyup:"keyEvent"},initialize:function(){_.bindAll(this,"render","close","nextTheme","previousTheme","keyEvent"),this.keyEvent()},render:function(t){e(".rtm-theme").removeClass("rtm-modal-open");var r=e(t.currentTarget).addClass("rtm-modal-open").find(".rtm-theme-content").html();if(e(".rtm-theme-overlay")[0])e(".rtm-theme-overlay").show(),e(this.el).find(".rtm-theme-content-wrap").empty().append(r);else{var a={themeContent:r};e(this.el).append(rtMediaAdmin.templates.rtm_theme_overlay(a))}e(t.currentTarget).is(":first-child")?e(".rtm-previous").addClass("disabled"):e(t.currentTarget).is(":last-child")?e(".rtm-next").addClass("disabled"):e(".rtm-next, .rtm-previous").removeClass("disabled")},close:function(){e(".rtm-theme").removeClass("rtm-modal-open"),e(".rtm-theme-overlay").hide(),e(".rtm-next, .rtm-previous").removeClass("disabled")},nextTheme:function(t){return e(".rtm-next, .rtm-previous").removeClass("disabled"),e(".rtm-theme:last-child").hasClass("rtm-modal-open")&&e(t.currentTarget).addClass("disabled"),e(".rtm-modal-open").next().trigger("click"),!1},previousTheme:function(t){return e(".rtm-next, .rtm-previous").removeClass("disabled"),e(".rtm-theme:first-child").hasClass("rtm-modal-open")&&e(t.currentTarget).addClass("disabled"),e(".rtm-modal-open").prev().trigger("click"),!1},keyEvent:function(){e("body").on("keyup",function(t){return 39===t.keyCode?(e(".rtm-next, .rtm-previous").removeClass("disabled"),e(".rtm-theme:last-child").hasClass("rtm-modal-open")&&e(t.currentTarget).addClass("disabled"),e(".rtm-modal-open").next().trigger("click"),!1):37===t.keyCode?(e(".rtm-next, .rtm-previous").removeClass("disabled"),e(".rtm-theme:first-child").hasClass("rtm-modal-open")&&e(t.currentTarget).addClass("disabled"),e(".rtm-modal-open").prev().trigger("click"),!1):void(27===t.keyCode&&e(".rtm-close").trigger("click"))})}}));jQuery("#rtm-licenses .regular-text").each(function(){jQuery(this).keypress(function(e){if("13"==(e.keyCode?e.keyCode:e.which))return!1})}),jQuery("#bp_media_settings_form").on("submit",function(e){jQuery("#rtcss-notice").remove();var t=jQuery("#rtmedia-custom-css").val().match(/@import\s*(url)?\s*\(?([^;]+?)\)?;/);if(null!=t&&null!=t[0])return jQuery("#rtmedia-custom-css").after('<div id="rtcss-notice" class="error"><p>'+rtmedia_admin_strings.wrong_css_input+"</p></div>"),!1})});var rtMediaAdmin=new Object;rtMediaAdmin.templates={rtm_image:wp.template("rtm-image"),rtm_msg_div:wp.template("rtm-msg-div"),rtm_album_favourites_importer:wp.template("rtm-album-favourites-importer"),rtm_map_mapping_failure:wp.template("rtm-map-mapping-failure"),rtm_p_tag:wp.template("rtm-p-tag"),rtm_theme_overlay:wp.template("rtm-theme-overlay")},jQuery(document).ready(function(e){function t(e){return jQuery.post(ajaxurl,e,function(t){if(0!=t){var r=!1,a=Math.ceil((20*parseInt(t)+parseInt(e.values.finished))/parseInt(e.values.total)*100);a>100&&(a=100,r=!0),jQuery("#rtprogressbar>div").css("width",a+"%"),finished=jQuery("#rtprivacyinstaller span.finished").html(),jQuery("#rtprivacyinstaller span.finished").html(parseInt(finished)+e.count),r&&jQuery.post(ajaxurl,{action:"rtmedia_privacy_redirect"},function(e){window.location=settings_url})}else{var i={msg:"Row "+t+" failed."};jQuery("#map_progress_msgs").html(rtMediaAdmin.templates.rtm_map_mapping_failure(i))}})}function r(e){return jQuery.getJSON(ajaxurl,e,function(t){if(favorites=!1,t){var r=Math.ceil((5*parseInt(t.page)+parseInt(e.values.finished))/parseInt(e.values.total)*100);comments_total=jQuery("#bpmedia-bpalbumimporter .bp-album-comments span.total").html(),users_total=jQuery("#bpmedia-bpalbumimporter .bp-album-users span.total").html(),media_total=jQuery("#bpmedia-bpalbumimporter .bp-album-media span.total").html(),comments_finished=jQuery("#bpmedia-bpalbumimporter .bp-album-comments span.finished").html(),users_finished=jQuery("#bpmedia-bpalbumimporter .bp-album-users span.finished").html();var n=Math.ceil((parseInt(t.comments)+parseInt(comments_finished))/parseInt(comments_total)*100),s=Math.ceil(parseInt(t.users)/parseInt(users_total)*100);(r>100||100==r)&&(r=100,favorites=!0),jQuery(".bp-album-media #rtprogressbar>div").css("width",r+"%"),jQuery(".bp-album-comments #rtprogressbar>div").css("width",n+"%"),jQuery(".bp-album-users #rtprogressbar>div").css("width",s+"%"),media_finished=jQuery("#bpmedia-bpalbumimporter .bp-album-media span.finished").html(),parseInt(media_finished)<parseInt(media_total)&&jQuery("#bpmedia-bpalbumimporter .bp-album-media span.finished").html(parseInt(media_finished)+e.count),jQuery("#bpmedia-bpalbumimporter .bp-album-comments span.finished").html(parseInt(t.comments)+parseInt(comments_finished)),jQuery("#bpmedia-bpalbumimporter .bp-album-users span.finished").html(parseInt(t.users)),favorites&&(favorite_data={action:"rtmedia_rt_album_import_favorites",rtm_wpnonce:jQuery("#bpaimporter_wpnonce").val()},jQuery.post(ajaxurl,favorite_data,function(e){if(!e.hasOwnProperty(favorites)||0===e.favorites&&"0"===e.favorites)window.setTimeout(i,2e3);else{if(!jQuery(".bp-album-favorites").length){var t={users:e.users};jQuery(".bp-album-comments").after(rtMediaAdmin.templates.rtm_album_favourites_importer(t))}$favorites={},0!=e.offset||"0"!=e.offset?start=1*e.offset+1:start=1;for(var r=start;r<=e.users;r++)$count=1,r==e.users&&($count=parseInt(e.users%$count),0==$count&&($count=1)),newvals={action:"rtmedia_rt_album_import_step_favorites",offset:1*(r-1),redirect:r==e.users,rtm_wpnonce:jQuery("#bpaimporter_wpnonce").val()},$favorites[r]=newvals;var n=jQuery.Deferred();n.resolve(),jQuery.each($favorites,function(e,t){n=n.pipe(function(){return a(t)})})}},"json"))}else if(e.hasOwnProperty(page)){o={msg:"Row "+t.page+" failed."};jQuery("#map_progress_msgs").html(rtMediaAdmin.templates.rtm_map_mapping_failure(o))}else{var o={msg:rtmedia_admin_strings.request_failed};jQuery("#map_progress_msgs").html(rtMediaAdmin.templates.rtm_map_mapping_failure(o))}})}function a(e){return jQuery.post(ajaxurl,e,function(e){redirect=!1,favorites_total=jQuery("#bpmedia-bpalbumimporter .bp-album-favorites span.total").html(),favorites_finished=jQuery("#bpmedia-bpalbumimporter .bp-album-favorites span.finished").html(),jQuery("#bpmedia-bpalbumimporter .bp-album-favorites span.finished").html(parseInt(favorites_finished)+1);var t=Math.ceil(parseInt(favorites_finished+1)/parseInt(favorites_total)*100);(t>100||100==t)&&(t=100,redirect=!0),jQuery(".bp-album-favorites #rtprogressbar>div").css("width",t+"%"),redirect&&window.setTimeout(i,2e3)})}function i(){window.location=document.URL}function n(e){e.stopPropagation(),e.preventDefault();var t=new FormData;jQuery.each(o,function(e,r){t.append(e,r)}),jQuery.ajax({url:rtmedia_fileupload_url,type:"POST",data:t,cache:!1,dataType:"json",processData:!1,contentType:!1,success:function(e){if(void 0===e.error){if(e.exceed_size_msg)return jQuery("#debuglog").val(""),alert(e.exceed_size_msg),!1;jQuery("#debuglog_temp_path").val(e.debug_attachmanet)}else jQuery("#debuglog").val(""),alert("ERRORS: "+e.error)}})}var s=document.createElement("div");s.className="support_form_loader",e(".rtm-save-settings-msg").length>0&&setTimeout(function(){e(".rtm-save-settings-msg").remove()},1e4),jQuery("#spread-the-word").on("click","#bp-media-add-linkback",function(){var e={action:"rtmedia_linkback",linkback:jQuery("#bp-media-add-linkback:checked").length};jQuery.post(rtmedia_admin_ajax,e,function(e){})}),jQuery("#bp-media-settings-boxes").on("change","#select-request",function(){if(jQuery(this).val()){jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(),jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(s);var e={action:"rtmedia_select_request",form:jQuery(this).val()};jQuery.post(ajaxurl,e,function(e){jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(),jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(e).fadeIn("slow")})}}),jQuery("#bp-media-settings-boxes").on("click","#cancel-request",function(){if(jQuery(this).val()){jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(),jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(s);var e={action:"rtmedia_cancel_request"};jQuery.post(ajaxurl,e,function(e){jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(),jQuery("#bp_media_settings_form .bp-media-metabox-holder").html(e).fadeIn("slow")})}}),jQuery("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(e){var t=!0,r=new RegExp("^[0-9]+$");jQuery("input[name*='defaultSizes']").each(function(e){if(!r.test(jQuery(this).val()))return alert("Invalid value for "+jQuery(this).attr("name").replace("rtmedia-options[defaultSizes_","").replace("]","").replace(/_/g," ").replace(/(\b)([a-zA-Z] )/g,function(e){return e.toUpperCase()})),t=!1,!1});var a=jQuery('input[name^="rtmedia-options[general_videothumbs]"]');if(t&&a.length>0&&void 0!==a){var i="",n=0;if(a.val()<=0?(i+=rtmedia_admin_strings.video_thumbnail_error,n=2):r.test(a.val())||(i+=rtmedia_admin_strings.video_thumbnail_invalid_value+" "+Math.round(a.val())+".",n=Math.round(a.val())),""!=i)return alert(i),a.val(n),t=!1,!1}var s=jQuery('input[name^="rtmedia-options[general_jpeg_image_quality]"]');if(t&&s.length>0&&void 0!==s){var i="",o=0;if(s.val()<=0?(i+=rtmedia_admin_strings.jpeg_quality_negative_error,o=90):s.val()>100?(i+=rtmedia_admin_strings.jpeg_quality_percentage_error,o=100):r.test(s.val())||(i+=rtmedia_admin_strings.jpeg_quality_invalid_value+" "+Math.round(s.val())+".",o=Math.round(s.val())),""!=i)return alert(i),s.val(o),t=!1,!1}var m=jQuery('input[name^="rtmedia-options[general_perPageMedia]"]');if(t&&m.length>0&&void 0!==m){var i="",u=0;if(m.val()<1?(i+=rtmedia_admin_strings.per_page_media_negative_value,u=10):jQuery.isNumeric(m.val())&&Math.floor(m.val())!=m.val()&&(i+=rtmedia_admin_strings.per_page_media_positive_error+" "+Math.round(m.val())+".",u=Math.round(m.val())),""!=i)return alert(i),m.val(u),t=!1,!1}t||e.preventDefault()}),jQuery(document).on("click","#bpm-services .encoding-try-now,#rtm-services .encoding-try-now",function(e){if(e.preventDefault(),confirm(rtmedia_admin_strings.are_you_sure)){t={src:rtmedia_admin_url+"images/wpspin_light.gif"};jQuery(this).after(rtMediaAdmin.templates.rtm_image(t));var t={action:"rtmedia_free_encoding_subscribe"};jQuery.getJSON(ajaxurl,t,function(e){if(void 0===e.error&&e.apikey){var t=window.location.href,r=window.location.hash;t=t.replace(r,""),document.location.href=t+"&apikey="+e.apikey+r}else{jQuery(".encoding-try-now").next().remove(),jQuery("#settings-error-encoding-error").remove();var a={id:"settings-error-encoding-error",msg:e.error,class:"error"};jQuery("#bp-media-settings-boxes").before(rtMediaAdmin.templates.rtm_msg_div(a))}})}}),jQuery(document).on("click","#api-key-submit",function(e){if(e.preventDefault(),0==jQuery(this).next("img").length){t={src:rtmedia_admin_url+"images/wpspin_light.gif"};jQuery(this).after(rtMediaAdmin.templates.rtm_image(t))}var t={action:"rtmedia_enter_api_key",apikey:jQuery("#new-api-key").val()};jQuery.getJSON(ajaxurl,t,function(e){if(void 0===e.error&&e.apikey){var t=window.location.href,r=window.location.hash;-1==(t=t.replace(r,"")).toString().indexOf("&apikey="+e.apikey)&&(t+="&apikey="+e.apikey),-1==t.toString().indexOf("&update=true")&&(t+="&update=true"),document.location.href=t+r}else{jQuery("#settings-error-api-key-error").remove();var a={id:"settings-error-api-key-error",msg:e.error,class:"error"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(a))}jQuery("#api-key-submit").next("img").remove()})}),jQuery(document).on("click","#disable-encoding",function(e){if(e.preventDefault(),confirm(rtmedia_admin_strings.disable_encoding)){t={src:rtmedia_admin_url+"images/wpspin_light.gif"};jQuery(this).after(rtMediaAdmin.templates.rtm_image(t));var t={action:"rtmedia_disable_encoding"};jQuery.post(ajaxurl,t,function(e){if(e){if(jQuery(".settings-error-encoding-disabled").remove(),jQuery("#settings-encoding-successfully-updated").length>0)jQuery("#settings-encoding-successfully-updated p").html(e);else{t={id:"settings-encoding-successfully-updated",msg:e,class:"updated"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(t))}jQuery("#rtmedia-encoding-usage").hide(),jQuery("#disable-encoding").next("img").remove(),jQuery("#disable-encoding").hide(),jQuery("#enable-encoding").show()}else{jQuery("#settings-error-encoding-disabled").remove();var t={id:"settings-error-encoding-disabled",msg:rtmedia_admin_strings.something_went_wrong,class:"error"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(t))}})}}),jQuery(document).on("click","#enable-encoding",function(e){if(e.preventDefault(),confirm(rtmedia_admin_strings.enable_encoding)){t={src:rtmedia_admin_url+"images/wpspin_light.gif"};jQuery(this).after(rtMediaAdmin.templates.rtm_image(t));var t={action:"rtmedia_enable_encoding"};jQuery.post(ajaxurl,t,function(e){if(e){if(jQuery(".settings-error-encoding-enabled").remove(),jQuery("#settings-encoding-successfully-updated").length>0)jQuery("#settings-encoding-successfully-updated p").html(e);else{t={id:"settings-encoding-successfully-updated",msg:e,class:"updated"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(t))}jQuery("#enable-encoding").next("img").remove(),jQuery("#enable-encoding").hide(),jQuery("#disable-encoding").show()}else{jQuery("#settings-error-encoding-disabled").remove();var t={id:"settings-error-encoding-enabled",msg:rtmedia_admin_strings.something_went_wrong,class:"error"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(t))}})}}),jQuery(".bp-media-encoding-table").on("click",".bpm-unsubscribe",function(e){e.preventDefault(),jQuery("#bpm-unsubscribe-dialog").dialog({dialogClass:"wp-dialog",modal:!0,buttons:{Unsubscribe:function(){jQuery(this).dialog("close");e={src:rtmedia_admin_url+"images/wpspin_light.gif"};jQuery(".bpm-unsubscribe").after(rtMediaAdmin.templates.rtm_image(e));var e={action:"rtmedia_unsubscribe_encoding_service",note:jQuery("#bpm-unsubscribe-note").val(),plan:jQuery(".bpm-unsubscribe").attr("data-plan"),price:jQuery(".bpm-unsubscribe").attr("data-price")};jQuery.getJSON(ajaxurl,e,function(e){if(void 0===e.error&&e.updated){jQuery(".bpm-unsubscribe").next().remove(),jQuery(".bpm-unsubscribe").after(e.form),jQuery(".bpm-unsubscribe").remove(),jQuery("#settings-unsubscribed-successfully").remove(),jQuery("#settings-unsubscribe-error").remove();t={id:"settings-unsubscribed-successfully",msg:e.updated,class:"updated"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(t)),window.location.hash="#settings-unsubscribed-successfully"}else{jQuery(".bpm-unsubscribe").next().remove(),jQuery("#settings-unsubscribed-successfully").remove(),jQuery("#settings-unsubscribe-error").remove();var t={id:"settings-unsubscribe-error",msg:e.error,class:"error"};jQuery("h2:first").after(rtMediaAdmin.templates.rtm_msg_div(t)),window.location.hash="#settings-unsubscribe-error"}})}}})}),jQuery("#bpmedia-bpalbumimporter").on("change","#bp-album-import-accept",function(){jQuery(".bp-album-import-accept").toggleClass("i-accept"),jQuery(".bp-album-importer-wizard").slideToggle()}),jQuery("#rtprivacyinstall").click(function(e){e.preventDefault(),$progress_parent=jQuery("#rtprivacyinstaller"),$progress_parent.find(".rtprivacytype").each(function(){if($type=jQuery(this).attr("id"),"total"==$type){$values=[],jQuery(this).find("input").each(function(){$values[jQuery(this).attr("name")]=[jQuery(this).val()]}),$data={};for(var e=1;e<=$values.steps[0];e++)$count=20,e==$values.steps[0]&&($count=parseInt($values.laststep[0]),0==$count&&($count=20)),newvals={page:e,action:"rtmedia_privacy_install",count:$count,values:$values},$data[e]=newvals;var r=jQuery.Deferred();r.resolve(),jQuery.each($data,function(e,a){r=r.pipe(function(){return t(a)})})}})}),jQuery("#bpmedia-bpalbumimport-cleanup").click(function(e){e.preventDefault(),jQuery.post(ajaxurl,{action:"rtmedia_rt_album_cleanup",rtm_wpnonce:jQuery("#bpaimporter_wpnonce").val()},function(e){window.location=settings_rt_album_import_url})}),jQuery("#bpmedia-bpalbumimporter").on("click","#bpmedia-bpalbumimport",function(e){if(e.preventDefault(),jQuery("#bp-album-import-accept").prop("checked")){if(jQuery(this).prop("disabled",!0),wp_admin_url=ajaxurl.replace("admin-ajax.php",""),!jQuery(".bpm-ajax-loader").length){var t={src:rtmedia_admin_url+"images/wpspin_light.gif",class:"bpm-ajax-loader",norefresh:rtmedia_admin_strings.no_refresh};jQuery(this).after(rtMediaAdmin.templates.rtm_image(t))}$progress_parent=jQuery("#bpmedia-bpalbumimport"),$values=[],jQuery(this).parent().find("input").each(function(){$values[jQuery(this).attr("name")]=[jQuery(this).val()]}),0==$values.steps[0]&&($values.steps[0]=1),$data={};for(n=1;n<=$values.steps[0];n++)$count=5,n==$values.steps[0]&&($count=parseInt($values.laststep[0]),0==$count&&($count=5)),newvals={page:n,action:"rtmedia_rt_album_import",count:$count,values:$values,rtm_wpnonce:jQuery("#bpaimporter_wpnonce").val()},$data[n]=newvals;var a=jQuery.Deferred();a.resolve(),jQuery.each($data,function(e,t){a=a.pipe(function(){return r(t)})})}else{jQuery("html, body").animate({scrollTop:jQuery("#bp-album-import-accept").offset().top},500);var i=jQuery(".bp-album-import-accept"),n=3;(function e(){i.css("background-color","#EE0000"),setTimeout(function(){i.css("background-color","#FFEBE8"),--n&&setTimeout(e,500)},500)})()}}),jQuery("#bp-media-settings-boxes").on("click",".interested",function(){jQuery(".interested-container").removeClass("hidden"),jQuery(".choice-free").attr("required","required")}),jQuery("#bp-media-settings-boxes").on("click",".not-interested",function(){jQuery(".interested-container").addClass("hidden"),jQuery(".choice-free").removeAttr("required")}),jQuery("#video-transcoding-main-container").on("click",".video-transcoding-survey",function(e){e.preventDefault();var t={action:"rtmedia_convert_videos_form",email:jQuery(".email").val(),url:jQuery(".url").val(),choice:jQuery('input[name="choice"]:checked').val(),interested:jQuery('input[name="interested"]:checked').val()};return jQuery.post(ajaxurl,t,function(e){var t={msg:e,strong:"yes"};jQuery("#video-transcoding-main-container").html(rtMediaAdmin.templates.rtm_p_tag(t))}),!1}),jQuery("#bpmedia-bpalbumimporter").on("click",".deactivate-bp-album",function(e){e.preventDefault(),$bpalbum=jQuery(this);var t={action:"rtmedia_rt_album_deactivate",rtm_wpnonce:jQuery("#bpaimporter_wpnonce").val()};jQuery.get(ajaxurl,t,function(e){if(e)location.reload();else{var t={msg:rtmedia_admin_strings.something_went_wrong};$bpalbum.parent().after(rtMediaAdmin.templates.rtm_p_tag(t))}})}),jQuery(".updated").on("click",".bpm-hide-encoding-notice",function(){e={src:rtmedia_admin_url+"images/wpspin_light.gif"};jQuery(this).after(rtMediaAdmin.templates.rtm_image(e));var e={action:"rtmedia_hide_encoding_notice"};jQuery.post(ajaxurl,e,function(e){e&&jQuery(".bpm-hide-encoding-notice").closest(".updated").remove()})}),jQuery("#rtmedia-bp-enable-activity").is(":checked")?jQuery(".rtmedia-bp-activity-setting").prop("readonly",!1):jQuery(".rtmedia-bp-activity-setting").prop("readonly",!0),jQuery("#rtmedia-bp-enable-activity").on("click",function(e){jQuery(this).is(":checked")?jQuery(".rtmedia-bp-activity-setting").prop("readonly",!1):jQuery(".rtmedia-bp-activity-setting").prop("readonly",!0)});void 0!==rtmedia_on_label&&rtmedia_on_label,void 0!==rtmedia_off_label&&rtmedia_off_label;var o;jQuery("input[type=file]").on("change",function(e){o=e.target.files,n(e)}),jQuery("#rtmedia-submit-request").click(function(){var t=jQuery("#name").val(),r=jQuery("#email").val(),a=jQuery("#website").val(),i=jQuery("#subject").val(),n=jQuery("#details").val(),s=jQuery('input[name="request_type"]').val(),o=jQuery('input[name="request_id"]').val(),m=jQuery('input[name="server_address"]').val(),u=jQuery('input[name="ip_address"]').val(),d=jQuery('input[name="server_type"]').val(),l=jQuery('input[name="user_agent"]').val(),p={name:t,email:r,website:a,subject:i,details:n,request_id:o,request_type:"premium_support",server_address:m,ip_address:u,server_type:d,user_agent:l,debuglog_temp_path:jQuery('input[name="debuglog_temp_path"]').val()};if("bug_report"==s){var c=jQuery("#wp_admin_username").val();if(""==c)return alert(rtmedia_admin_support_strings.wp_admin_username_error),!1;var _=jQuery("#wp_admin_pwd").val();if(""==_)return alert(rtmedia_admin_support_strings.wp_admin_pwd_error),!1;var f=jQuery("#ssh_ftp_host").val();if(""==f)return alert(rtmedia_admin_support_strings.ssh_ftp_host_error),!1;var b=jQuery("#ssh_ftp_username").val();if(""==b)return alert(rtmedia_admin_support_strings.ssh_ftp_username_error),!1;var v=jQuery("#ssh_ftp_pwd").val();if(""==v)return alert(rtmedia_admin_support_strings.ssh_ftp_pwd_error),!1;p={name:t,email:r,website:a,subject:i,details:n,request_id:o,request_type:"premium_support",server_address:m,ip_address:u,server_type:d,user_agent:l,wp_admin_username:c,wp_admin_pwd:_,ssh_ftp_host:f,ssh_ftp_username:b,ssh_ftp_pwd:v}}for(formdata in p){if(""==p[formdata]&&"debuglog_temp_path"!=formdata)return alert("Please enter "+formdata.replace("_"," ")+" field."),!1;if(""==p[formdata]&&"debuglog_temp_path"==formdata)return alert("Please upload attachment."),!1}return data={action:"rtmedia_submit_request",form_data:p,support_wpnonce:jQuery("#support_wpnonce").val()},jQuery.post(ajaxurl,data,function(t){if("false"==(t=t.trim()))return alert(rtmedia_admin_support_strings.all_fields_error),!1;e("#rtmedia_service_contact_container").empty(),e("#rtmedia_service_contact_container").append(t)}),!1}),jQuery("#cancel-request").click(function(){return!1}),jQuery(".rtm_enable_masonry_view input[type=checkbox]").is(":checked")?jQuery(".rtm_enable_masonry_view").parents(".metabox-holder").find(".rtmedia-info").show():jQuery(".rtm_enable_masonry_view").parents(".metabox-holder").find(".rtmedia-info").hide(),jQuery(".rtm_enable_masonry_view input[type=checkbox]").on("click",function(e){jQuery(this).is(":checked")?jQuery(".rtm_enable_masonry_view").parents(".metabox-holder").find(".rtmedia-info").show():jQuery(".rtm_enable_masonry_view").parents(".metabox-holder").find(".rtmedia-info").hide()}),jQuery("#rtm-masonry-change-thumbnail-info").click(function(e){jQuery("html, body").animate({scrollTop:0},"500","swing")})}),jQuery(window).load(function(){jQuery(".rtmedia-addon-thickbox").trigger("click")});